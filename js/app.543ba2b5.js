(function(t){function e(e){for(var a,n,s=e[0],c=e[1],l=e[2],u=0,m=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&m.push(o[n][0]),o[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],a=!0,s=1;s<i.length;s++){var c=i[s];0!==o[c]&&(a=!1)}a&&(r.splice(e--,1),t=n(n.s=i[0]))}return t}var a={},o={app:0},r=[];function n(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=a,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/productsDistribution/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=c;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"56d7":function(t,e,i){"use strict";i.r(e),i.d(e,"serverBus",(function(){return $e}));i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),i("navigation-bar"),i("main",{staticClass:"pt-10",staticStyle:{"margin-top":"9rem"}},[i("router-view")],1),i("custom-footer")],1)},r=[],n={data:function(){return{isLoading:!1}},components:{},methods:{}},s=n,c=(i("034f"),i("2877")),l=Object(c["a"])(s,o,r,!1,null,null,null),d=l.exports,u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("carrousel")],1)},m=[],p={components:{}},b=p,f=Object(c["a"])(b,u,m,!1,null,null,null),h=f.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mdb-container",[i("br"),i("br"),i("div",{staticClass:"row justify-content-center"},[i("mdb-col",{attrs:{md:"8"}},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[t.error?i("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e(),i("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("p",{staticClass:"h4 text-center mb-4"},[t._v("Crear Usuario")]),i("div",{staticClass:"text-left"},[i("mdb-input",{attrs:{label:"Nombre",icon:"user",type:"name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),i("br"),i("mdb-input",{attrs:{label:"Correo Electrónico",icon:"envelope",type:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),i("br"),i("mdb-input",{attrs:{icon:"lock",label:"Contraseña",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),i("div",{staticClass:"form-group row mb-0"},[i("div",{staticClass:"col-md-8 offset-md-4"},[i("mdb-btn",{attrs:{type:"submit"}},[t._v("Registrate")])],1)])])])])])],1),i("br"),i("br")])},v=[],P=(i("b0c0"),i("ac1f"),i("5319"),i("2591")),y={data:function(){return{form:{name:"",email:"",password:""},error:null}},created:function(){var t=this;P["a"].auth().onAuthStateChanged((function(e){e&&t.$router.replace({name:"home"})}))},methods:{submit:function(){var t=this;P["a"].auth().createUserWithEmailAndPassword(this.form.email,this.form.password).then((function(e){P["a"].firestore().collection("users").doc(e.user.uid).set({name:t.form.name,email:t.form.email,role:"user"}),e.user.updateProfile({displayName:t.form.name})})).catch((function(e){t.error=e.message}))}}},x=y,C=Object(c["a"])(x,g,v,!1,null,null,null),_=C.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mdb-container",[i("br"),i("br"),i("div",{staticClass:"row justify-content-center"},[i("mdb-col",{attrs:{md:"8"}},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[t.error?i("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e(),i("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("p",{staticClass:"h4 text-center mb-4"},[t._v("Inicio de Sesión")]),i("div",{staticClass:"text-left"},[i("mdb-input",{attrs:{label:"Your email",icon:"envelope",type:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),i("br"),i("mdb-input",{attrs:{icon:"lock",label:"Your password",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),i("div",{staticClass:"form-group row mb-0"},[i("div",{staticClass:"col-md-8 offset-md-4"},[i("mdb-btn",{attrs:{type:"submit"}},[t._v("Accesar")])],1)])])])])])],1),i("br"),i("br")])},S=[],k={data:function(){return{form:{email:"",password:""},error:null}},created:function(){var t=this;P["a"].auth().onAuthStateChanged((function(e){e&&t.$router.replace({name:"home"})}))},methods:{submit:function(){var t=this;P["a"].auth().signInWithEmailAndPassword(this.form.email,this.form.password).then((function(e){return t.$router.replace({name:"dashboard"}),e})).catch((function(e){t.error=e.message}))}}},I=k,E=Object(c["a"])(I,w,S,!1,null,null,null),T=E.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("br"),i("br"),i("br"),i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-md-8"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-header"},[t._v("Agregar Producto")]),i("div",{staticClass:"card-body"},[i("b-row",[i("b-col",{attrs:{md:"4"}},[i("label",{attrs:{for:"id"}},[t._v("Id del Producto: ")])]),i("b-col",{attrs:{md:"8"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticStyle:{width:"100%"},attrs:{disabled:!0,type:"number"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})]),i("br"),i("br"),i("b-col",{attrs:{md:"4"}},[i("label",{attrs:{for:"name"}},[t._v("Nombre del Producto: ")])]),i("b-col",{attrs:{md:"8"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticStyle:{width:"100%"},attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),i("br"),i("br"),i("b-col",{attrs:{md:"4"}},[i("label",{attrs:{for:"individualPrice"}},[t._v("Precio Individual: ")])]),i("b-col",{attrs:{md:"8"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.individualPrice,expression:"individualPrice"}],staticStyle:{width:"100%"},attrs:{type:"number",min:"1"},domProps:{value:t.individualPrice},on:{input:function(e){e.target.composing||(t.individualPrice=e.target.value)}}})]),i("br"),i("br"),i("b-col",{attrs:{md:"4"}},[i("label",{attrs:{for:"piecesPerBox"}},[t._v("Piezas por Caja: ")])]),i("b-col",{attrs:{md:"8"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.piecesPerBox,expression:"piecesPerBox"}],staticStyle:{width:"100%"},attrs:{type:"number",min:"1"},domProps:{value:t.piecesPerBox},on:{input:function(e){e.target.composing||(t.piecesPerBox=e.target.value)}}})]),i("br"),i("br"),i("b-col",{attrs:{md:"4"}},[i("label",{attrs:{for:"boxPrice"}},[t._v("Precio por Caja: ")])]),i("b-col",{attrs:{md:"8"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.boxPrice,expression:"boxPrice"}],staticStyle:{width:"100%"},attrs:{type:"number",min:"1"},domProps:{value:t.boxPrice},on:{input:function(e){e.target.composing||(t.boxPrice=e.target.value)}}})]),i("br"),i("br"),i("b-col",{attrs:{md:"4"}},[i("label",{attrs:{for:"weight"}},[t._v("Peso en gr: ")])]),i("b-col",{attrs:{md:"8"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.weight,expression:"weight"}],staticStyle:{width:"100%"},attrs:{type:"number",min:"1"},domProps:{value:t.weight},on:{input:function(e){e.target.composing||(t.weight=e.target.value)}}})]),i("br"),i("br"),i("b-col",{attrs:{md:"4"}},[i("label",{attrs:{for:"section"}},[t._v("Sección: ")])]),i("b-col",{attrs:{md:"8"}},[t.sections.length>0?i("div",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSection,expression:"selectedSection"}],staticStyle:{width:"100%"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSection=e.target.multiple?i:i[0]}}},t._l(this.sections,(function(e){return i("option",{key:e.name},[t._v(" "+t._s(e.name)+" ")])})),0),i("br"),i("br")]):i("div",[t._v(" No tienes secciones todavía. "),i("br"),i("br")]),i("router-link",{attrs:{to:"agregarSeccion"}},[i("b-button",{staticStyle:{width:"100%"}},[t._v(" Añadir Sección ")]),i("br"),i("br")],1)],1),i("b-col",{attrs:{md:"4"}},[i("label",{attrs:{for:"stockPieces"}},[t._v("Cajas en Almacén: ")])]),i("b-col",{attrs:{md:"8"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.stockPieces,expression:"stockPieces"}],staticStyle:{width:"100%"},attrs:{type:"number",min:"1"},domProps:{value:t.stockPieces},on:{input:function(e){e.target.composing||(t.stockPieces=e.target.value)}}})]),i("br"),i("br"),i("b-col",{attrs:{md:"12"}},[null!=t.imageData?i("div",[i("b-img",{attrs:{center:"",src:t.img,fluid:""}}),i("br"),i("br")],1):t._e()]),i("b-col",{attrs:{md:"12"}},[i("input",{ref:"input1",attrs:{type:"file",accept:"image/*"},on:{change:t.previewImage}}),i("br"),i("small",[t._v(" Si no se elige la imagen se pondra una por default. ")])]),i("br"),i("br"),i("br"),i("br"),i("b-col",{attrs:{md:"12"}},[i("router-link",{attrs:{to:"agregarProducto"}},[i("b-button",{staticStyle:{width:"100%"},on:{click:t.addProduct}},[t._v(" Añadir Producto ")])],1)],1)],1),i("br"),i("br"),i("br"),i("br")],1)])])])])},O=[],B=(i("a9e3"),i("5530")),j=i("2f62"),N=(i("4160"),i("b680"),i("159b"),i("cc84")),D={apiKey:"AIzaSyBimWPAhwg2E9pTOLO-uT4n-I87ZrU1aTk",authDomain:"productsdistribution.firebaseapp.com",databaseURL:"https://productsdistribution.firebaseio.com",projectId:"productsdistribution",storageBucket:"productsdistribution.appspot.com",messagingSenderId:"394733699795",appId:"1:394733699795:web:1aac188447ce1a90880a26",measurementId:"G-R9M7H1DC7V"},$=N["b"].initializeApp(D),L=$.firestore(),z=$.storage();function q(t){var e={photo:t};$.database().ref().push(e).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}function R(){L.collection("utils").doc("utils").get().then((function(t){t.data().sectionId})).catch((function(t){console.log(t)}))}function F(){var t=L.collection("utils").doc("utils");return L.runTransaction((function(e){return e.get(t).then((function(i){var a=i.data().productId+1;e.update(t,{productId:a})}))}))}function U(){var t=L.collection("utils").doc("utils");return L.runTransaction((function(e){return e.get(t).then((function(i){var a=i.data().sectionId+1;e.update(t,{sectionId:a})}))}))}function M(t){var e=[];return L.collection("products").get().then((function(i){i.forEach((function(i){if(i.data().section==t){var a=i.data();a.individualPrice=a.individualPrice.toFixed(2),a.boxPrice=a.boxPrice.toFixed(2),e.push(a)}}))})).catch((function(t){console.log(t)})),e}function Y(){var t=[];return L.collection("sections").get().then((function(e){e.forEach((function(e){t.push({name:e.data().name,id:e.data().sectionId})}))})).catch((function(t){console.log(t)})),t}function G(){var t=[];return L.collection("products").get().then((function(e){e.forEach((function(e){t.push({uid:e.id,products:e.data()})}))})).catch((function(t){console.log(t)})),t}function V(t,e,i,a,o,r){o({title:"¿Estás seguro?",text:"Se modificará la información de este producto.",icon:"warning",confirmButtonText:"Guardar Cambios",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",showCancelButton:!0}).then((function(n){if(n.isConfirmed)return L.collection("products").doc(r.doc).update({name:r.name,boxPrice:r.boxPrice,img:r.img,individualPrice:r.individualPrice,piecesPerBox:r.piecesPerBox,section:r.section,stockPieces:r.stockPieces,weight:r.weight,productId:r.productId}).then((function(){J(o,t,e)})).catch((function(t){K(o,i,a),console.log(t)}))}))}function W(){var t=[];return L.collection("carrousel").get().then((function(e){e.docs.forEach((function(e){t.push({id:e.id,img:e.data().img})}))})).catch((function(t){console.log(t)})),t}function Q(t){window.open(t)}function H(t,e,i,a,o,r,n){L.collection(t).doc(e).delete().then((function(){J(n,i,a)})).catch((function(t){console.log(t),K(n,o,r)}))}function J(t,e,i){t({position:"center",icon:"success",title:e,text:i,showConfirmButton:!1,timer:3e3})}function K(t,e,i){t({position:"center",icon:"warning",title:e,text:i,showConfirmButton:!1,timer:3e3})}function X(t,e,i,a,o,r,n,s){t({title:"¿Estás seguro?",text:e,icon:"warning",confirmButtonText:"Eliminar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",showCancelButton:!0}).then((function(e){e.isConfirmed&&H(i,a,o,r,n,s,t)}))}var Z={db:L,fb:z,createImg:q,getProductsPerSection:M,getSections:Y,getSectionId:R,updateProductId:F,updateSectionId:U,openNewTab:Q,deleteFromDatabase:H,getAllProducts:G,succesfullyAlert:J,errorAlert:K,areYouSureAlert:X,getImages:W,updateProduct:V},tt={data:function(){return{productsData:[],img:"",imageData:null,id:Number,name:null,weight:null,individualPrice:null,piecesPerBox:null,boxPrice:null,section:null,stockPieces:null,sections:[],selectedSection:null}},computed:Object(B["a"])({},Object(j["b"])({user:"user"})),mounted:function(){this.getProductId(),this.sections=Z.getSections()},methods:{getProductId:function(){var t=this;Z.db.collection("utils").doc("utils").get().then((function(e){t.id=e.data().productId})).catch((function(t){console.log(t)}))},clearData:function(){this.id=this.getProductId(),this.name=null,this.weight=null,this.individualPrice=null,this.boxPrice=null,this.piecesPerBox=null,this.img=null,this.selectedSection=null,this.stockPieces=null},productAddedSuccesfully:function(t){this.$swal.fire({position:"center",icon:"success",title:"El Producto "+t+" ha sido agregado exitosamente.",showConfirmButton:!1,timer:3e3}),this.clearData()},previewImage:function(t){this.uploadValue=0,this.img=null,this.imageData=t.target.files[0],this.onUpload()},onUpload:function(){var t=this;this.img=null;var e=Z.fb.ref("".concat(this.imageData.name)).put(this.imageData);e.on("state_changed",(function(e){t.uploadValue=e.bytesTransferred/e.totalBytes*100}),(function(t){console.log(t.message)}),(function(){t.uploadValue=100,e.snapshot.ref.getDownloadURL().then((function(e){t.img=e}))}))},checkAllFields:function(){var t=!0,e="<div> <label>Faltan los siguientes datos:</label><br>";return null==this.name&&(e+="<small>- Nombre del Producto</small><br>",t=!1),null==this.weight&&(e+="<small>- Peso en gr</small><br>",t=!1),null==this.individualPrice&&(e+="<small>- Precio Individual</small><br>",t=!1),null==this.boxPrice&&(e+="<small>- Precio por Caja</small><br>",t=!1),null==this.piecesPerBox&&(e+="<small>- Piezas por Caja</small><br>",t=!1),null==this.selectedSection&&(e+="<small>- Sección</small><br>",t=!1),null==this.stockPieces&&(e+="<small>- Cajas en Almacén</small><br>",t=!1),e+="</div>",t||this.$swal.fire({position:"center",icon:"warning",title:"Error",html:e,showConfirmButton:!0}),t},addProduct:function(){var t=this;if(this.checkAllFields()){Z.createImg(this.img);var e={productId:Number(this.id),name:this.name,weight:Number(this.weight),individualPrice:Number(this.individualPrice),boxPrice:Number(this.boxPrice),piecesPerBox:Number(this.piecesPerBox),img:this.img,section:this.selectedSection,stockPieces:Number(this.stockPieces)},i=Z.db;i.collection("products").add(e).then((function(){t.productAddedSuccesfully(t.name),Z.updateProductId(),t.$router.go(-1)})).catch((function(t){console.error("No se pudo agregar el producto. error:",t)}))}}}},et=tt,it=Object(c["a"])(et,A,O,!1,null,null,null),at=it.exports,ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("br"),i("br"),i("br"),i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-md-8"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-header"},[t._v("Agregar Sección")]),i("div",{staticClass:"card-body"},[i("b-row",[i("b-col",{attrs:{md:"4"}},[i("label",{attrs:{for:"id"}},[t._v("Id de la Sección: ")])]),i("b-col",{attrs:{md:"8"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticStyle:{width:"100%"},attrs:{disabled:!0,type:"number"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})]),i("br"),i("br"),i("b-col",{attrs:{md:"4"}},[i("label",{attrs:{for:"name"}},[t._v("Nombre de la Sección: ")])]),i("b-col",{attrs:{md:"8"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticStyle:{width:"100%"},attrs:{id:"name",type:"text",name:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),i("br"),i("br"),i("b-col",{attrs:{md:"12"}},[i("router-link",{attrs:{to:"agregarSeccion"}},[i("b-button",{staticStyle:{width:"100%"},attrs:{type:"submit",value:"Submit"},on:{click:t.addSection}},[t._v(" Añadir Sección ")])],1)],1)],1)],1)])])])])},rt=[],nt={data:function(){return{name:null,id:Number}},computed:Object(B["a"])({},Object(j["b"])({user:"user"})),mounted:function(){this.getSectionId()},methods:{clearData:function(){this.id=this.getSectionId(),this.name=null},getSectionId:function(){var t=this;Z.db.collection("utils").doc("utils").get().then((function(e){t.id=e.data().sectionId})).catch((function(t){console.log(t)}))},sectionAddedSuccesfully:function(t){this.$swal.fire({position:"center",icon:"success",title:"La sección "+t+" ha sido agregada exitosamente.",showConfirmButton:!1,timer:3e3}),this.clearData()},checkAllFields:function(){var t=!0,e="<div> <label>Faltan los siguientes datos:</label><br>";return null==this.name&&(e+="<small>- Nombre de la Sección</small><br>",t=!1),e+="</div>",t||this.$swal.fire({position:"center",icon:"warning",title:"Error",html:e,showConfirmButton:!0}),t},addSection:function(){var t=this;if(this.checkAllFields()){var e=$.firestore();e.collection("sections").doc(this.name).set({name:this.name,sectionId:Number(this.id)}).then((function(){t.sectionAddedSuccesfully(t.name),t.$router.go(-1)})).catch((function(t){console.error("No se pudo agregar el producto. error:",t)})),Z.updateSectionId()}}}},st=nt,ct=Object(c["a"])(st,ot,rt,!1,null,null,null),lt=ct.exports,dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("br"),i("br"),i("br"),i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-header"},[t._v("Admin Dashboard")]),i("div",{staticClass:"card-body"},[i("div",[i("b-nav",{attrs:{tabs:"",fill:""}},[i("b-nav-item",{class:{navitem:this.seccion1},attrs:{active:this.seccion1},on:{click:function(e){return t.setOverlay("section1")}}},[t._v("Secciones")]),i("b-nav-item",{class:{navitem:this.seccion2},attrs:{active:this.seccion2},on:{click:function(e){return t.setOverlay("section2")}}},[t._v("Productos")]),i("b-nav-item",{class:{navitem:this.seccion3},attrs:{active:this.seccion3},on:{click:function(e){return t.setOverlay("section3")}}},[t._v("Carrousel")])],1),this.seccion1?i("sections",{staticClass:"overlay"}):t._e(),this.seccion2?i("products",{staticClass:"overlay"}):t._e(),this.seccion3?i("carrousel",{staticClass:"overlay"}):t._e()],1)])])])])])},ut=[],mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-overlay",{attrs:{rounded:"sm"}},[i("br"),i("b-form-row",[i("b-col",{attrs:{md:"4"}}),i("b-col",{attrs:{md:"4"}},[i("h5",[t._v("Productos")])]),i("b-col",{attrs:{md:"4"}},[i("b-button",{staticStyle:{width:"60%","margin-right":"1rem"},attrs:{to:"agregarProducto"}},[i("b-icon-plus"),i("small",[t._v(" Añadir Producto ")])],1)],1)],1),i("hr"),i("b-overlay",{attrs:{show:0==this.articles.length,rounded:"sm"}},[i("b-container",{staticStyle:{"padding-bottom":"100px"},attrs:{fluid:"lg"}},[i("b-form-row",{staticStyle:{background:"#f7f7f7",padding:"10px"}},[i("b-col",{attrs:{md:"1"}},[i("h6",[t._v(" Id ")])]),i("b-col",{attrs:{md:"2"}},[i("h6",[t._v(" Imagen ")])]),i("b-col",{attrs:{md:"6"}},[i("h6",[t._v(" Nombre del Producto ")])]),i("b-col",{attrs:{md:"3"}})],1),t._l(t.articles,(function(e){return i("b-form-row",{key:e.products.productId,staticStyle:{"padding-top":"20px"},attrs:{deck:""}},[i("b-col",{staticStyle:{"padding-top":"20px"},attrs:{md:"1"}},[i("h6",[t._v(" "+t._s(e.products.productId)+" ")])]),i("b-col",{attrs:{md:"2"}},[""!=e.products.img?i("b-img",{attrs:{src:e.products.img,fluid:"",center:""}}):i("b-img",{attrs:{src:"https://firebasestorage.googleapis.com/v0/b/productsdistribution.appspot.com/o/imagenotavailable.jpg?alt=media&token=f58052f7-5666-4801-8721-779b0d4db7b4",fluid:"",center:""}})],1),i("b-col",{attrs:{md:"6"}},[i("label",{staticStyle:{"padding-top":"20px"}},[t._v(" "+t._s(e.products.name)+" ")])]),i("b-col",{staticStyle:{"padding-top":"10px"},attrs:{md:"3"}},[i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.detalInfo",modifiers:{detalInfo:!0}}],staticStyle:{"margin-right":"5px"},style:"font-size:15px",attrs:{center:"",variant:"dark"},on:{click:function(i){return t.updateInfo(e.products.name,e.products.boxPrice,e.products.img,e.products.individualPrice,e.products.piecesPerBox,e.products.section,e.products.stockPieces,e.products.weight,e.products.productId,e.uid)}}},[i("b-icon-eye-fill")],1),i("b-button",{style:"font-size:15px",attrs:{center:"",variant:"light"},on:{click:function(i){return t.deleteProduct(e.uid)}}},[i("b-icon-trash-fill",{attrs:{variant:"dark"}})],1)],1),i("div",{staticClass:"divider"})],1)})),i("b-modal",{attrs:{id:"detalInfo",title:"Información Detallada","ok-title":"Guardar Cambios"},on:{ok:function(e){return t.updateProduct()},cancel:t.resetEdits,close:t.resetEdits}},[i("b-form-row",[i("b-col",{attrs:{md:"5"}},[i("p",{staticClass:"modalDetailInfo",staticStyle:{"padding-top":"6px"}},[t._v("Id del Producto:")])]),i("b-col",{attrs:{md:"5"}},[i("b-form-input",{staticStyle:{"font-size":"12px"},attrs:{disabled:!0,placeholder:"Id del Producto"},model:{value:t.productId,callback:function(e){t.productId=e},expression:"productId"}})],1),i("b-col",{attrs:{md:"2"}},[i("b-button",{style:"font-size:12px",attrs:{disabled:!0,variant:"dark"}},[i("b-icon-pencil-fill")],1)],1)],1),i("b-form-row",[i("b-col",{attrs:{md:"5"}},[i("p",{staticClass:"modalDetailInfo",staticStyle:{"padding-top":"6px"}},[t._v("Nombre del Producto:")])]),i("b-col",{attrs:{md:"5"}},[i("b-form-input",{staticStyle:{"font-size":"12px"},attrs:{disabled:t.nameEdit,placeholder:"Nombre del Producto"},model:{value:t.productName,callback:function(e){t.productName=e},expression:"productName"}})],1),i("b-col",{attrs:{md:"2"}},[i("b-button",{style:"font-size:12px",attrs:{variant:"dark"},on:{click:function(e){return t.editField("name")}}},[i("b-icon-pencil-fill")],1)],1)],1),i("b-form-row",[i("b-col",{attrs:{md:"5"}},[i("p",{staticClass:"modalDetailInfo",staticStyle:{"padding-top":"6px"}},[t._v("Precio Individual:")])]),i("b-col",{attrs:{md:"5"}},[i("b-form-input",{staticStyle:{"font-size":"12px"},attrs:{disabled:t.individualPriceEdit,placeholder:"Precio individual"},model:{value:t.productIndividualPrice,callback:function(e){t.productIndividualPrice=e},expression:"productIndividualPrice"}})],1),i("b-col",{attrs:{md:"2"}},[i("b-button",{style:"font-size:12px",attrs:{variant:"dark"},on:{click:function(e){return t.editField("individualPrice")}}},[i("b-icon-pencil-fill")],1)],1)],1),i("b-form-row",[i("b-col",{attrs:{md:"5"}},[i("p",{staticClass:"modalDetailInfo",staticStyle:{"padding-top":"6px"}},[t._v("Piezas por Caja:")])]),i("b-col",{attrs:{md:"5"}},[i("b-form-input",{staticStyle:{"font-size":"12px"},attrs:{disabled:t.piecesPerBoxEdit,placeholder:"Piezas por Caja"},model:{value:t.productPiecesPerBox,callback:function(e){t.productPiecesPerBox=e},expression:"productPiecesPerBox"}})],1),i("b-col",{attrs:{md:"2"}},[i("b-button",{style:"font-size:12px",attrs:{variant:"dark"},on:{click:function(e){return t.editField("piecesPerBox")}}},[i("b-icon-pencil-fill")],1)],1)],1),i("b-form-row",[i("b-col",{attrs:{md:"5"}},[i("p",{staticClass:"modalDetailInfo",staticStyle:{"padding-top":"6px"}},[t._v("Precio por Caja:")])]),i("b-col",{attrs:{md:"5"}},[i("b-form-input",{staticStyle:{"font-size":"12px"},attrs:{disabled:t.pricePerBoxEdit,placeholder:"Precio por Caja"},model:{value:t.productBoxPrice,callback:function(e){t.productBoxPrice=e},expression:"productBoxPrice"}})],1),i("b-col",{attrs:{md:"2"}},[i("b-button",{style:"font-size:12px",attrs:{variant:"dark"},on:{click:function(e){return t.editField("pricePerBox")}}},[i("b-icon-pencil-fill")],1)],1)],1),i("b-form-row",[i("b-col",{attrs:{md:"5"}},[i("p",{staticClass:"modalDetailInfo",staticStyle:{"padding-top":"6px"}},[t._v("Sección:")])]),i("b-col",{attrs:{md:"5"}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.productSection,expression:"productSection"}],staticClass:"modalDetailInfo",staticStyle:{width:"100%",height:"80%"},attrs:{disabled:t.sectionEdit},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.productSection=e.target.multiple?i:i[0]}}},t._l(this.sections,(function(e){return i("option",{key:e.name},[t._v(" "+t._s(e.name)+" ")])})),0)]),i("b-col",{attrs:{md:"2"}},[i("b-button",{style:"font-size:12px",attrs:{variant:"dark"},on:{click:function(e){return t.editField("section")}}},[i("b-icon-pencil-fill")],1)],1)],1),i("b-form-row",[i("b-col",{attrs:{md:"5"}},[i("p",{staticClass:"modalDetailInfo",staticStyle:{"padding-top":"6px"}},[t._v("Cajas en Stock:")])]),i("b-col",{attrs:{md:"5"}},[i("b-form-input",{staticStyle:{"font-size":"12px"},attrs:{disabled:t.stockPiecesEdit,placeholder:"Cajas en Stock"},model:{value:t.productStockPieces,callback:function(e){t.productStockPieces=e},expression:"productStockPieces"}})],1),i("b-col",{attrs:{md:"2"}},[i("b-button",{style:"font-size:12px",attrs:{variant:"dark"},on:{click:function(e){return t.editField("stockPieces")}}},[i("b-icon-pencil-fill")],1)],1)],1),i("b-form-row",[i("b-col",{attrs:{md:"5"}},[i("p",{staticClass:"modalDetailInfo",staticStyle:{"padding-top":"6px"}},[t._v("Peso en gr:")])]),i("b-col",{attrs:{md:"5"}},[i("b-form-input",{staticStyle:{"font-size":"12px"},attrs:{disabled:t.weightEdit,placeholder:"Peso en gr"},model:{value:t.productWeight,callback:function(e){t.productWeight=e},expression:"productWeight"}})],1),i("b-col",{attrs:{md:"2"}},[i("b-button",{style:"font-size:12px",attrs:{variant:"dark"},on:{click:function(e){return t.editField("weight")}}},[i("b-icon-pencil-fill")],1)],1)],1),i("b-form-row",[i("b-col",{staticClass:"text-center",attrs:{md:"12"}},[i("small",{staticStyle:{"padding-top":"6px"}},[t._v("Imagen")])])],1),i("b-form-row",[i("b-col",{attrs:{md:"12"}},[""!=t.productImg?i("div",{staticClass:"text-center"},[""!=t.productImg?i("b-img",{staticClass:"center",staticStyle:{"padding-top":"10px"},attrs:{src:t.productImg,fluid:"",center:""}}):t._e()],1):i("div",{staticClass:"text-center",staticStyle:{"padding-top":"3px"}},[i("small",[t._v(" Este producto no tiene imagen ")])])])],1),i("b-form-row",[i("b-col",{staticClass:"text-center",attrs:{md:"12"}},[i("b-button",{attrs:{variant:"link"}},[t._v(" Cambiar Imagen ")])],1)],1)],1)],2)],1)],1)],1)},pt=[],bt=i("7386"),ft={data:function(){return{sections:[],articles:[],productName:null,productBoxPrice:null,productImg:null,productIndividualPrice:null,productPiecesPerBox:null,productSection:null,productStockPieces:null,productWeight:null,productId:null,productUID:null,nameEdit:!0,individualPriceEdit:!0,piecesPerBoxEdit:!0,pricePerBoxEdit:!0,sectionEdit:!0,stockPiecesEdit:!0,weightEdit:!0}},components:{BIconPencilFill:bt["er"],BIconPlus:bt["Tr"],BIconTrashFill:bt["Pv"],BIconEyeFill:bt["bk"]},mounted:function(){this.articles=Z.getAllProducts(),this.sections=Z.getSections()},methods:{updateProduct:function(){var t=this;Z.updateProduct("Operación Exitosa","El Producto fue modificado exitosamente","Error","El Producto no fue modificado",this.$swal.fire,{name:this.productName,boxPrice:this.productBoxPrice,img:this.productImg,individualPrice:this.productIndividualPrice,piecesPerBox:this.productPiecesPerBox,section:this.productSection,stockPieces:this.productStockPieces,weight:this.productWeight,productId:this.productId,doc:this.productUID}),this.resetEdits(),setTimeout((function(){t.articles=Z.getAllProducts()}),5e3)},deleteProduct:function(t){var e=this;Z.areYouSureAlert(this.$swal.fire,"El producto sera eliminado permanentemente.","products",t,"Operación Exitosa","El producto fue eliminado de la Base de Datos","Error","No se pudo eliminar el producto"),setTimeout((function(){e.articles=Z.getAllProducts()}),5e3)},updateInfo:function(t,e,i,a,o,r,n,s,c,l){this.productName=t,this.productBoxPrice=e,this.productImg=i,this.productIndividualPrice=a,this.productPiecesPerBox=o,this.productSection=r,this.productStockPieces=n,this.productWeight=s,this.productId=c,this.productUID=l},resetEdits:function(){this.nameEdit=!0,this.individualPriceEdit=!0,this.piecesPerBoxEdit=!0,this.pricePerBoxEdit=!0,this.sectionEdit=!0,this.stockPiecesEdit=!0,this.weightEdit=!0},editField:function(t){"name"==t&&(this.nameEdit=!this.nameEdit),"individualPrice"==t&&(this.individualPriceEdit=!this.individualPriceEdit),"piecesPerBox"==t&&(this.piecesPerBoxEdit=!this.piecesPerBoxEdit),"pricePerBox"==t&&(this.pricePerBoxEdit=!this.pricePerBoxEdit),"section"==t&&(this.sectionEdit=!this.sectionEdit),"stockPieces"==t&&(this.stockPiecesEdit=!this.stockPiecesEdit),"weight"==t&&(this.weightEdit=!this.weightEdit)}}},ht=ft,gt=Object(c["a"])(ht,mt,pt,!1,null,null,null),vt=gt.exports,Pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-overlay",{attrs:{rounded:"sm"}},[i("br"),i("b-form-row",[i("b-col",{attrs:{md:"4"}}),i("b-col",{attrs:{md:"4"}},[i("h5",[t._v("Secciones")])]),i("b-col",{attrs:{md:"4"}},[i("b-button",{staticStyle:{width:"60%","margin-right":"1rem"},attrs:{to:"agregarSeccion"}},[i("b-icon-plus"),i("small",[t._v(" Añadir Sección ")])],1)],1)],1),i("hr"),i("b-overlay",{attrs:{show:0==this.sections.length,rounded:"sm"}},[i("b-container",{staticStyle:{"padding-bottom":"100px"},attrs:{fluid:"lg"}},[i("b-form-row",{staticStyle:{background:"#f7f7f7",padding:"10px"}},[i("b-col",{attrs:{md:"3"}},[i("h6",[t._v(" Id de la Sección ")])]),i("b-col",{attrs:{md:"7"}},[i("h6",[t._v(" Nombre de la Sección ")])]),i("b-col",{attrs:{md:"2"}})],1),t._l(t.sections,(function(e){return i("b-form-row",{key:e.id,staticStyle:{"padding-top":"20px"},attrs:{deck:""}},[i("b-col",{staticStyle:{"padding-top":"10px"},attrs:{md:"3"}},[i("h6",[t._v(" "+t._s(e.id)+" ")])]),i("b-col",{staticStyle:{"padding-top":"10px"},attrs:{md:"7"}},[i("div",[i("h6",[t._v(" "+t._s(e.name)+" ")])])]),i("b-col",{attrs:{md:"2"}},[i("b-button",{attrs:{variant:"light"},on:{click:function(i){return t.deleteSectionAlert(e.name)}}},[i("b-icon-trash-fill",{attrs:{variant:"dark","font-scale":"1"}})],1)],1),i("div",{staticClass:"divider"})],1)}))],2)],1)],1)],1)},yt=[],xt={data:function(){return{sections:[]}},components:{BIconTrashFill:bt["Pv"],BIconPlus:bt["Tr"]},mounted:function(){this.sections=Z.getSections()},methods:{deleteSectionAlert:function(t){var e=this;Z.areYouSureAlert(this.$swal.fire,"La sección sera eliminada permanentemente.","sections",t,"Operación Exitosa","La sección fue eliminada","Error","No se pudo eliminar la sección"),setTimeout((function(){e.sections=Z.getSections()}),5e3)}}},Ct=xt,_t=Object(c["a"])(Ct,Pt,yt,!1,null,null,null),wt=_t.exports,St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-overlay",{attrs:{rounded:"sm"}},[i("br"),i("b-form-row",[i("b-col",{attrs:{md:"4"}}),i("b-col",{attrs:{md:"4"}},[i("h5",[t._v("Carrousel")])]),i("b-col",{attrs:{md:"4"}},[i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.addImageModal",modifiers:{addImageModal:!0}}],staticStyle:{width:"60%","margin-right":"1rem"}},[i("b-icon-plus"),i("small",[t._v(" Añadir imagen ")])],1)],1)],1),i("hr"),i("b-overlay",{attrs:{show:0==this.carrouselImages.length,rounded:"sm"}},[i("b-container",{staticStyle:{"padding-bottom":"100px"},attrs:{fluid:"lg"}},[i("b-form-row",{staticStyle:{background:"#f7f7f7",padding:"10px"}},[i("b-col",{attrs:{md:"4"}},[i("h6",[t._v(" Imagen ")])]),i("b-col",{attrs:{md:"6"}},[i("h6",[t._v(" Link de la imagen ")])]),i("b-col",{attrs:{md:"2"}})],1),t._l(t.carrouselImages,(function(e){return i("b-form-row",{key:e.id,staticStyle:{"padding-top":"20px"},attrs:{deck:""}},[i("b-col",{attrs:{md:"4"}},[""!=e.img?i("b-img",{attrs:{center:"",src:e.img,fluid:""}}):t._e()],1),i("b-col",{attrs:{md:"6"}},[i("div",[i("small",[i("b-link",{on:{click:function(i){return t.openNewTab(e.img)}}},[t._v(t._s(e.img))])],1)])]),i("b-col",{attrs:{md:"2"}},[i("b-button",{staticStyle:{"margin-top":"10px"},attrs:{variant:"light"},on:{click:function(i){return t.deleteImageAlert(e.id)}}},[i("b-icon-trash-fill",{attrs:{variant:"dark","font-scale":"1"}})],1)],1),i("div",{staticClass:"divider"})],1)}))],2)],1)],1),i("b-modal",{attrs:{id:"addImageModal",title:"Agregar nueva Imagen a Carrousel","ok-variant":"primary","ok-title":"Añadir Imagen","cancel-hidden":"true","ok-only":""},on:{ok:t.addImageToCarrousel,close:t.clearData}},[i("b-container",{staticStyle:{"padding-bottom":"100px"},attrs:{fluid:"lg"}},[i("b-form-row",{staticStyle:{"padding-top":"50px"}},[i("b-col",{attrs:{md:"12"}},[null!=t.imageData?i("div",[i("h6",[t._v("Imagen a agregar:")]),i("b-overlay",{attrs:{show:t.loadingPhoto}},[i("b-img",{attrs:{center:"",src:t.img,fluid:""}}),i("br"),i("br")],1)],1):t._e()])],1),i("br"),i("b-form-row",[i("b-col",{attrs:{md:"12"}},[i("input",{ref:"input1",staticStyle:{width:"100%"},attrs:{type:"file",accept:"image/*",fluid:""},on:{change:t.previewImage}}),i("br")])],1)],1)],1)],1)},kt=[],It={data:function(){return{img:"",imageData:null,carrouselImages:[],loadingPhoto:!1}},components:{BIconTrashFill:bt["Pv"],BIconPlus:bt["Tr"]},mounted:function(){this.carrouselImages=Z.getImages()},methods:{deleteImageAlert:function(t){var e=this;Z.areYouSureAlert(this.$swal.fire,"La imagen sera eliminada permanentemente.","carrousel",t,"Operación Exitosa","La imagen fue eliminada del Carrousel","Error","No se pudo eliminar la imagen"),setTimeout((function(){e.carrouselImages=Z.getImages()}),5e3)},openNewTab:function(t){Z.openNewTab(t)},clearData:function(){this.img=null,this.imageData=null},previewImage:function(t){var e=this;this.loadingPhoto=!0,this.uploadValue=0,this.img=null,this.imageData=t.target.files[0],this.onUpload(),setTimeout((function(){e.loadingPhoto=!1}),5e3)},onUpload:function(){var t=this,e=Z.fb.ref("".concat(this.imageData.name)).put(this.imageData);e.on("state_changed",(function(e){t.uploadValue=e.bytesTransferred/e.totalBytes*100}),(function(t){console.log(t.message)}),(function(){t.uploadValue=100,e.snapshot.ref.getDownloadURL().then((function(e){t.img=e}))}))},addImageToCarrousel:function(){var t=this;Z.createImg(this.img),Z.db.collection("carrousel").add({img:this.img}).then((function(){Z.succesfullyAlert(t.$swal.fire,"Operación Exitosa","La imagen ha sido agregada exitosamente al Carrousel."),t.clearData(),t.carrouselImages=Z.getImages()})).catch((function(t){Z.errorAlert("Error","No se pudo agregar la imagen"),console.error(t)}))}}},Et=It,Tt=Object(c["a"])(Et,St,kt,!1,null,null,null),At=Tt.exports,Ot={data:function(){return{name:null,seccion1:!0,seccion2:!1,seccion3:!1}},computed:Object(B["a"])({},Object(j["b"])({user:"user"})),mounted:function(){},components:{products:vt,sections:wt,carrousel:At},methods:{setOverlay:function(t){"section1"==t?(this.seccion1=!0,this.seccion2=!1,this.seccion3=!1):"section2"==t?(this.seccion1=!1,this.seccion2=!0,this.seccion3=!1):"section3"==t&&(this.seccion1=!1,this.seccion2=!1,this.seccion3=!0)}}},Bt=Ot,jt=Object(c["a"])(Bt,dt,ut,!1,null,null,null),Nt=jt.exports,Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mdb-container",[i("mdb-row",[i("mdb-col",{attrs:{lg:"12"}},[i("mdb-navbar",{staticClass:"lighten-3 py-4 mb-4",attrs:{color:"dark",light:""}},[i("mdb-navbar-toggler",[i("mdb-navbar-nav",{staticClass:"ml-auto"},t._l(t.sections,(function(e){return i("div",{key:e.section},[i("mdb-nav-item",{class:{navitem:e.visible},attrs:{active:e.visible},on:{click:function(i){return t.setOverlay(e.section)}}},[t._v(" "+t._s(e.name)+" ")])],1)})),0)],1)],1)],1)],1),i("mdb-row",[i("mdb-col",{attrs:{lg:"12"}},[i("Section",{staticClass:"overlay",attrs:{name:t.title,articles:t.articles}})],1)],1),i("br"),i("br"),i("br"),i("br")],1)},$t=[],Lt={data:function(){return{sections:[],title:null,articles:[]}},components:{},mounted:function(){this.getSections()},methods:{getSections:function(){var t=this,e=Z.db;e.collection("sections").get().then((function(e){var i=1;e.forEach((function(e){1==i?(t.sections.push({section:i,visible:!0,name:e.data().name}),t.title=e.data().name,t.articles=Z.getProductsPerSection(e.data().name)):t.sections.push({section:i,visible:!1,name:e.data().name}),i++}))})).catch((function(t){console.log(t)}))},setOverlay:function(t){var e=this;this.sections.forEach((function(i){i.section==t?(i.visible=!0,e.title=i.name,e.articles=Z.getProductsPerSection(i.name)):i.visible=!1}))}}},zt=Lt,qt=Object(c["a"])(zt,Dt,$t,!1,null,null,null),Rt=qt.exports,Ft=i("0759"),Ut=i("5f5b"),Mt=i("b1e0"),Yt=i("91c9"),Gt=i("5886"),Vt=i("8c4f"),Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("mdb-navbar",{staticClass:"lighten-3 py-4 mb-4",attrs:{position:"top",color:"black",dark:""}},[a("mdb-navbar-brand",{attrs:{to:"/"}},[a("img",{staticClass:"logo",attrs:{src:i("cf05")}})]),a("mdb-navbar-toggler",[a("mdb-navbar-nav",{staticClass:"ml-auto"},[a("mdb-nav-item",{attrs:{to:"/"}},[t._v(" Inicio ")]),a("mdb-nav-item",{attrs:{to:"productos"}},[t._v(" Productos ")]),a("mdb-nav-item",[t._v(" Sobre Nosotros ")]),a("mdb-nav-item",[t._v(" Puntos de Venta ")]),a("mdb-nav-item",{attrs:{to:"shoppingCart"}},[a("mdb-icon",{attrs:{icon:"shopping-cart"}}),t._v(" Tu Carrito ")],1),t.user.loggedIn?[a("mdb-dropdown",{attrs:{start:""}},[a("mdb-dropdown-toggle",{attrs:{slot:"toggle",color:"black"},slot:"toggle"},[a("mdb-icon",{attrs:{icon:"user-circle"}}),t._v(" "+t._s(t.user.data.displayName)+" ")],1),a("mdb-dropdown-menu",{staticStyle:{"margin-left":"-50px"},attrs:{dropleft:""}},[t.admin?[a("mdb-dropdown-item",{attrs:{to:"dashboard"}},[a("mdb-icon",{attrs:{icon:"cog"}}),t._v(" Panel de Administrador ")],1),a("div",{staticClass:"dropdown-divider"}),a("mdb-dropdown-item",{on:{click:t.signOut}},[a("mdb-icon",{attrs:{icon:"power-off"}}),t._v(" Cerrar Sesión ")],1)]:[a("mdb-dropdown-item",{on:{click:t.signOut}},[a("mdb-icon",{attrs:{icon:"power-off"}}),t._v(" Cerrar Sesión ")],1)]],2)],1)]:[a("router-link",{attrs:{to:"login"}},[a("mdb-nav-item",[t._v(" Iniciar sesión ")])],1),a("router-link",{attrs:{to:"register"}},[a("mdb-nav-item",[t._v(" Registrarte ")])],1)]],2)],1)],1)},Qt=[],Ht=(i("96cf"),i("1da1")),Jt={data:function(){return{admin:!1}},computed:Object(B["a"])({},Object(j["b"])({user:"user"})),mounted:function(){var t=this;return Object(Ht["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.isAdmin();case 2:case"end":return e.stop()}}),e)})))()},methods:{signOut:function(){var t=this;P["a"].auth().signOut().then((function(){t.$router.replace({name:"home"})}))},isAdmin:function(){var t=this;return Object(Ht["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P["a"].auth().onAuthStateChanged((function(e){e&&P["a"].firestore().collection("users").doc(e.uid).get().then((function(e){e.exists&&"admin"==e.data().role?t.admin=!0:t.admin=!1}))}));case 2:case"end":return e.stop()}}),e)})))()}}},Kt=Jt,Xt=Object(c["a"])(Kt,Wt,Qt,!1,null,null,null),Zt=Xt.exports,te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"carrousel"},[i("mdb-carousel",{staticStyle:{"margin-left":"5rem","margin-right":"5rem","text-shadow":"1px 1px 2px #333"},attrs:{items:t.carrouselImages,interval:4e3,controlls:"",background:"#00000"}})],1)},ee=[],ie={data:function(){return{carrouselImages:[]}},mounted:function(){this.importAll()},methods:{onSlideStart:function(){this.sliding=!0},onSlideEnd:function(){this.sliding=!1},importAll:function(){var t=this,e=$.firestore();e.collection("carrousel").get().then((function(e){e.forEach((function(e){t.carrouselImages.push({img:!0,src:e.data().img})}))})).catch((function(t){console.log("No se pudieron cargar los productos. error:",t)}))}}},ae=ie,oe=Object(c["a"])(ae,te,ee,!1,null,null,null),re=oe.exports,ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mdb-container",[i("b-overlay",[i("h1",{attrs:{danger:""}},[t._v(t._s(t.name))]),i("br"),i("mdb-container",[i("mdb-row",{staticClass:"justify-content-md-center justify-content-between"},t._l(t.articles,(function(e){return i("mdb-card-group",{key:e.productId,staticClass:"col-md-4 pt-4",attrs:{deck:""}},[i("mdb-card",{attrs:{narrow:"",ecommerce:""}},[i("mdb-view",{attrs:{cascade:""}},[""!=e.img?i("mdb-card-image",{staticClass:"productImage",attrs:{src:e.img,top:"",alt:"sample photo"}}):i("mdb-card-image",{staticClass:"productImage",attrs:{src:"https://firebasestorage.googleapis.com/v0/b/productsdistribution.appspot.com/o/imagenotavailable.jpg?alt=media&token=f58052f7-5666-4801-8721-779b0d4db7b4",top:"",alt:"sample photo"}}),i("mdb-mask",{attrs:{overlay:"white-slight",waves:""}})],1),i("mdb-card-body",{staticClass:"text-center",attrs:{cascade:""}},[i("mdb-card-title",[i("strong",[i("a",{attrs:{href:""}},[t._v(t._s(e.name))])])]),i("mdb-card-text",[t._v("Temporibus autem quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet ut et voluptates.")]),i("a",{staticClass:"text-muted",attrs:{href:""}},[i("small",[t._v("Ver Producto")])]),i("mdb-card-footer",{staticClass:"px-1",attrs:{color:"white",textColor:"black"}},[i("span",{staticClass:"float-left"},[t._v(" $"+t._s(e.individualPrice)+" MXN ")]),i("span",{staticClass:"float-right"},[i("a",[i("mdb-icon",{staticClass:"ml-3",attrs:{slot:"reference",icon:"star"},slot:"reference"})],1)]),i("mdb-btn",{staticClass:"mt-5",attrs:{color:"dark",block:"",variant:"light"},on:{click:function(i){return t.articleAddedAlert(e)}}},[t._v(" Añadir a Carrito ")])],1)],1)],1)],1)})),1)],1)],1)],1)},se=[],ce={data:function(){return{}},props:{name:String,articles:Array},components:{},mounted:function(){},methods:{articleAddedAlert:function(t){var e=this,i=this.$swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!1,didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}}),a={product:t,quantity:1,id:t.productId};this.$store.dispatch("fetchCart",a),i.fire({icon:"success",title:t.name+" ha sido añadido a tu carrito"})}}},le=ce,de=Object(c["a"])(le,ne,se,!1,null,null,null),ue=de.exports,me=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mdb-container",[i("div",{staticClass:"row justify-content-center"},[i("mdb-col",{attrs:{md:"10"}},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[i("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("p",{staticClass:"h5 text-left mb-1"},[t._v("Información Personal")]),i("div",{staticClass:"text-left"},[i("mdb-row",[i("mdb-col",[i("mdb-input",{attrs:{label:"Nombre",size:"sm",type:"text",required:""}})],1),i("mdb-col",[i("mdb-input",{attrs:{label:"Apellido Paterno",size:"sm",type:"text",required:""}})],1),i("mdb-col",[i("mdb-input",{attrs:{label:"Apellido Materno",size:"sm",type:"text",required:""}})],1)],1),i("mdb-row",[i("mdb-col",[i("mdb-input",{attrs:{label:"Telefono Celular",size:"sm",type:"phone",required:""}})],1),i("mdb-col",[i("mdb-input",{attrs:{label:"Correo Electrónico",size:"sm",type:"email",required:""}})],1)],1),i("p",{staticClass:"h5 text-left mb-1"},[t._v("Datos de Envío")]),i("mdb-row",[i("mdb-col",[i("mdb-input",{attrs:{label:"Dirección",size:"sm",type:"text",required:""}})],1)],1),i("mdb-row",[i("mdb-col",[i("mdb-input",{attrs:{label:"No. Interior",size:"sm",type:"text"}})],1),i("mdb-col",[i("mdb-input",{attrs:{label:"No. Exterior",size:"sm",type:"text",required:""}})],1)],1),i("mdb-row",[i("mdb-col",[i("mdb-input",{attrs:{label:"Ciudad",size:"sm",type:"text",required:""}})],1),i("mdb-col",[i("mdb-input",{attrs:{label:"Estado",size:"sm",type:"text"}})],1)],1),i("mdb-row",[i("mdb-col",[i("mdb-input",{attrs:{label:"Municipio",size:"sm",type:"text",required:""}})],1),i("mdb-col",[i("mdb-input",{attrs:{label:"Código Postal",size:"sm",type:"number",required:""}})],1)],1),i("mdb-row",[i("mdb-col",[i("mdb-input",{attrs:{label:"Comentarios y/o Referencias",size:"sm",type:"text",required:""}})],1)],1)],1),i("div",{staticClass:"form-group row mb-0"},[i("div",{staticClass:"col-md-8 offset-md-4"},[i("mdb-btn",{attrs:{type:"submit"}},[t._v("Seleccionar Método de Pago")])],1)])])])])])],1),i("br"),i("br")])},pe=[],be={},fe=Object(c["a"])(be,me,pe,!1,null,null,null),he=fe.exports,ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("mdb-container",[i("br"),i("br"),i("div",{staticClass:"row justify-content-center"},[i("mdb-col",{attrs:{md:"8"}},[i("mdb-card",[i("br"),i("p",{staticClass:"h4 text-left mb-4 mr-4 ml-4"},[t._v("Carrito ("+t._s(this.shoppingCartItems)+" Productos)")]),t._l(t.shoppingCartList,(function(e){return i("mdb-list-group",{key:e.id,staticClass:"mr-4 ml-4"},[i("mdb-row",[i("mdb-col",{staticClass:"mt-2",attrs:{md:"2"}},[""!=e.product.img?i("img",{staticClass:"img-fluid",attrs:{src:e.product.img,alt:"product"}}):i("img",{staticClass:"img-fluid",attrs:{src:"https://firebasestorage.googleapis.com/v0/b/productsdistribution.appspot.com/o/imagenotavailable.jpg?alt=media&token=f58052f7-5666-4801-8721-779b0d4db7b4",alt:"none"}})]),i("mdb-col",{attrs:{md:"6"}},[i("mdb-row",{staticClass:"mt-2"},[i("mdb-col",{attrs:{sm:"12"}},[i("h5",[t._v(" "+t._s(e.product.name)+" ")]),i("small",[t._v(" Precio Individual: $"+t._s(e.product.individualPrice)+" ")]),i("p",{staticClass:"mt-2"},[t._v("Total: $"+t._s(t.getAmount(e.product.individualPrice,e.quantity))+" ")])])],1)],1),i("mdb-col",{attrs:{md:"2"}},[i("mdb-input",{attrs:{type:"number",min:1},on:{input:function(i){return t.productQuantity(e.id,e.quantity)}},model:{value:e.quantity,callback:function(i){t.$set(e,"quantity",i)},expression:"product.quantity"}})],1),i("mdb-col",{staticClass:"mt-3",attrs:{md:"2"}},[i("mdb-btn",{attrs:{color:"danger"},on:{click:function(i){return t.deleteProduct(e.id)}}},[i("mdb-icon",{attrs:{icon:"trash"}})],1)],1)],1),i("hr")],1)}))],2)],1),i("mdb-col",{attrs:{md:"4"}},[i("mdb-card",[i("mdb-card-body",[i("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("p",{staticClass:"h4 text-center mb-4"},[t._v("Total a Pagar:")]),i("mdb-row",[i("mdb-col",{attrs:{md:"6"}},[i("h5",[t._v("Subtotal:")])]),i("mdb-col",{attrs:{md:"6"}},[i("p",[t._v("$ "+t._s(this.totalToPay)+" ")])])],1),i("small",[t._v(" Nota: El costo de envío no esta incluido.")]),i("div",{staticClass:"form-group row mb-0"},[i("div",{staticClass:"col-md-8 offset-md-4"},[i("b-button",{attrs:{to:"paymentMethod",variant:"primary"}},[t._v("Ir a Pagar")])],1)])],1)])],1)],1)],1),i("br"),i("br")])],1)},ve=[],Pe={data:function(){return{shoppingCartList:{},isEmpty:!0,shoppingCartItems:0}},computed:Object(B["a"])({},Object(j["b"])({cart:"cart",totalToPay:"totalToPay",totalProducts:"totalProducts"})),mounted:function(){this.getShoppingCart(),this.getTotalToPay(),this.getTotalProducts()},components:{},methods:{getAmount:function(t,e){return(t*e).toFixed(2)},getShoppingCart:function(){this.shoppingCartList=this.$store.getters.cart.data},deleteProduct:function(t){this.$store.dispatch("deleteProduct",t),this.getShoppingCart(),this.getTotalToPay(),this.getTotalProducts()},productQuantity:function(t,e){this.$store.dispatch("productQuantity",{id:t,quantity:e}),this.getShoppingCart(),this.getTotalToPay()},getTotalToPay:function(){this.$store.dispatch("totalToPay")},getTotalProducts:function(){this.$store.dispatch("totalProducts"),this.shoppingCartItems=this.$store.getters.totalProducts,0==this.shoppingCartItems?this.isEmpty=!0:this.isEmpty=!1}}},ye=Pe,xe=Object(c["a"])(ye,ge,ve,!1,null,null,null),Ce=xe.exports,_e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mdb-footer",{staticClass:"page-footer font-small pt-4 mt-10",attrs:{color:"stylish-color-dark"}},[i("mdb-container",{staticClass:"text-left"},[i("mdb-row",[i("mdb-col",{attrs:{md:"6"}},[i("h5",{staticClass:"text-uppercase mb-4 mt-3 font-weight-bold"},[t._v("Footer Content")]),i("p",[t._v("Here you can use rows and columns here to organize your footer content. Lorem ipsum dolor sit amet, consectetur adipisicing elit.")])]),i("hr",{staticClass:"clearfix w-100 d-md-none"}),i("mdb-col",{attrs:{md:"2"}},[i("h5",{staticClass:"text-uppercase mb-4 mt-3 font-weight-bold"},[t._v("Links")]),i("ul",{staticClass:"list-unstyled"},[i("li",[i("a",{attrs:{href:"#!"}},[t._v("Link 1")])]),i("li",[i("a",{attrs:{href:"#!"}},[t._v("Link 2")])]),i("li",[i("a",{attrs:{href:"#!"}},[t._v("Link 3")])]),i("li",[i("a",{attrs:{href:"#!"}},[t._v("Link 4")])])])]),i("hr",{staticClass:"clearfix w-100 d-md-none"}),i("mdb-col",{attrs:{md:"2"}},[i("h5",{staticClass:"text-uppercase mb-4 mt-3 font-weight-bold"},[t._v("Links")]),i("ul",{staticClass:"list-unstyled"},[i("li",[i("a",{attrs:{href:"#!"}},[t._v("Link 1")])]),i("li",[i("a",{attrs:{href:"#!"}},[t._v("Link 2")])]),i("li",[i("a",{attrs:{href:"#!"}},[t._v("Link 3")])]),i("li",[i("a",{attrs:{href:"#!"}},[t._v("Link 4")])])])]),i("hr",{staticClass:"clearfix w-100 d-md-none"}),i("mdb-col",{attrs:{md:"2"}},[i("h5",{staticClass:"text-uppercase mb-4 mt-3 font-weight-bold"},[t._v("Links")]),i("ul",{staticClass:"list-unstyled"},[i("li",[i("a",{attrs:{href:"#!"}},[t._v("Link 1")])]),i("li",[i("a",{attrs:{href:"#!"}},[t._v("Link 2")])]),i("li",[i("a",{attrs:{href:"#!"}},[t._v("Link 3")])]),i("li",[i("a",{attrs:{href:"#!"}},[t._v("Link 4")])])])])],1)],1),i("hr"),i("div",{staticClass:"text-center py-3"},[i("ul",{staticClass:"list-unstyled list-inline mb-0"},[i("li",{staticClass:"list-inline-item"},[i("h5",{staticClass:"mb-1"},[t._v("Register for free")])]),i("li",{staticClass:"list-inline-item"},[i("a",{staticClass:"btn btn-danger btn-rounded",attrs:{href:"#"}},[t._v("Sign up!")])])])]),i("hr"),i("div",{staticClass:"text-center"},[i("ul",{staticClass:"list-unstyled list-inline"},[i("li",{staticClass:"list-inline-item"},[i("a",{staticClass:"btn-floating btn-sm btn-fb mx-1"},[i("i",{staticClass:"fab fa-facebook"})])]),i("li",{staticClass:"list-inline-item"},[i("a",{staticClass:"btn-floating btn-sm btn-tw mx-1"},[i("i",{staticClass:"fab fa-twitter"})])]),i("li",{staticClass:"list-inline-item"},[i("a",{staticClass:"btn-floating btn-sm btn-gplus mx-1"},[i("i",{staticClass:"fab fa-google-plus"})])]),i("li",{staticClass:"list-inline-item"},[i("a",{staticClass:"btn-floating btn-sm btn-li mx-1"},[i("i",{staticClass:"fab fa-linkedin-in"})])]),i("li",{staticClass:"list-inline-item"},[i("a",{staticClass:"btn-floating btn-sm btn-dribbble mx-1"},[i("i",{staticClass:"fab fa-dribbble"})])])])]),i("div",{staticClass:"footer-copyright text-center py-3"},[i("mdb-container",{attrs:{fluid:""}},[t._v(" © 2020 Copyright: MM Development ")])],1)],1)},we=[],Se={data:function(){return{}}},ke=Se,Ie=Object(c["a"])(ke,_e,we,!1,null,null,null),Ee=Ie.exports,Te=i("9062"),Ae=i.n(Te),Oe=(i("cabf"),i("3c76"),i("becf"),i("e40d"),i("c740"),i("a434"),i("0e44"));a["default"].use(j["a"]);var Be=new j["a"].Store({state:{user:{loggedIn:!1,data:null},cart:{data:[]},totalToPay:0,totalProducts:0},getters:{user:function(t){return t.user},cart:function(t){return t.cart},totalToPay:function(t){return t.totalToPay},totalProducts:function(t){return t.totalProducts}},mutations:{SET_LOGGED_IN:function(t,e){t.user.loggedIn=e},SET_USER:function(t,e){t.user.data=e},SET_CART:function(t,e){var i=t.cart.data.findIndex((function(t){return t.id===e.id}));i>=0?t.cart.data[i].quantity=Number(t.cart.data[i].quantity+1):t.cart.data.push(e)},DELETE_PRODUCT:function(t,e){var i=t.cart.data.findIndex((function(t){return t.id===e}));t.cart.data.splice(i,1)},PRODUCT_QUANTITY:function(t,e){var i=t.cart.data.findIndex((function(t){return t.id===e.id}));t.cart.data[i].quantity=Number(e.quantity)},GET_TOTAL_TO_PAY:function(t){t.totalToPay=0,t.cart.data.forEach((function(e){t.totalToPay+=e.quantity*e.product.individualPrice})),t.totalToPay=t.totalToPay.toFixed(2)},GET_TOTAL_PRODUCTS:function(t){t.totalProducts=t.cart.data.length},EMPTY_CART:function(t){t.cart.data=[],t.totalToPay=0}},actions:{fetchUser:function(t,e){var i=t.commit;i("SET_LOGGED_IN",null!==e),i("SET_USER",e?{displayName:e.displayName,email:e.email}:null)},fetchCart:function(t,e){var i=t.commit;i("SET_CART",e)},emptyCart:function(t){var e=t.commit;e("EMPTY_CART")},totalToPay:function(t){var e=t.commit;e("GET_TOTAL_TO_PAY")},productQuantity:function(t,e){var i=t.commit;i("PRODUCT_QUANTITY",e)},deleteProduct:function(t,e){var i=t.commit;i("DELETE_PRODUCT",e)},totalProducts:function(t){var e=t.commit;e("GET_TOTAL_PRODUCTS")}},plugins:[Object(Oe["a"])()]});i("45fc");function je(t){return Ne.apply(this,arguments)}function Ne(){return Ne=Object(Ht["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.beforeEach((function(t,e,i){t.matched.some((function(t){return t.meta.requiresAuth}))?$.auth().onAuthStateChanged((function(e){e?$.firestore().collection("users").doc(e.uid).get().then((function(e){e.exists&&"admin"==e.data().role?i():i({path:"/",query:{redirect:t.fullPath}})})):i({path:"/",query:{redirect:t.fullPath}})})):i()}));case 1:case"end":return t.stop()}}),t)}))),Ne.apply(this,arguments)}var De={loggedIn:je},$e=new a["default"];for(var Le in a["default"].component("loading",Ae.a),a["default"].component("carrousel",re),a["default"].component("navigation-bar",Zt),a["default"].component("shoppingCart",Ce),a["default"].component("custom-footer",Ee),a["default"].component("b-icon",Ft["a"]),a["default"].component("Section",ue),Yt)a["default"].component(Le,Yt[Le]);a["default"].use(Vt["a"]),a["default"].use(Gt["default"]),a["default"].use(Ut["a"],Mt["a"],Mt["b"]),a["default"].config.productionTip=!1;var ze=new Vt["a"]({mode:"history",base:"/productsDistribution/",routes:[{path:"/",name:"home",component:h},{path:"/shoppingCart",name:"shoppingCart",component:Ce},{path:"/paymentMethod",name:"paymentMethod",component:he},{path:"/productos",name:"productos",component:Rt},{path:"/login",name:"login",component:T},{path:"/register",name:"Register",component:_},{path:"/agregarProducto",name:"agregarProducto",component:at,meta:{requiresAuth:!0}},{path:"/agregarSeccion",name:"agregarSeccion",component:lt,meta:{requiresAuth:!0}},{path:"/dashboard",name:"dashboard",component:Nt,meta:{requiresAuth:!0}}]});De.loggedIn(ze),$.auth().onAuthStateChanged((function(t){Be.dispatch("fetchUser",t)})),new a["default"]({el:"#app",router:ze,store:Be,render:function(t){return t(d)}}).$mount("#app")},"85ec":function(t,e,i){},cf05:function(t,e,i){t.exports=i.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.543ba2b5.js.map